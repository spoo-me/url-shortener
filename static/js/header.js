window.addEventListener("scroll",function(){var a=document.querySelector(".navbar"),b=document.querySelector(".mobile-navbar");30<window.pageYOffset?(a.classList.add("scrolled"),b.classList.add("scrolled")):(a.classList.remove("scrolled"),b.classList.remove("scrolled"))});async function fetchGitHubStars(){try{const a=await fetch("/metric");if(a.ok){const b=await a.json(),c=b["github-stars"],d=1e3<=c?(c/1e3).toFixed(1)+"k":c,e=document.getElementById("github-star-count");e&&(e.textContent=d)}}catch(a){}}function setupMobileMenu(){const a=document.querySelector(".burger"),b=document.querySelector(".mobile-navbar"),c=document.querySelector(".mobile-menu");a&&c&&b&&(a.addEventListener("click",function(c){c.stopPropagation();const d="true"===a.getAttribute("aria-expanded");a.setAttribute("aria-expanded",!d+""),d?b.classList.remove("menu-open"):b.classList.add("menu-open")}),document.addEventListener("click",function(d){a.contains(d.target)||c.contains(d.target)||(a.setAttribute("aria-expanded","false"),b.classList.remove("menu-open"))}),c.querySelectorAll("a").forEach(c=>{c.addEventListener("click",function(){a.setAttribute("aria-expanded","false"),b.classList.remove("menu-open")})}))}document.addEventListener("DOMContentLoaded",function(){function a(a,b){function c(){var a="block"===f.style.display;f.style.display=a?"none":"block",d.setAttribute("aria-expanded",!a+"")}var d=document.getElementById(a),f=document.getElementById(b);d&&f&&(d.addEventListener("click",function(a){a.stopPropagation(),c()}),document.addEventListener("click",function(a){f.contains(a.target)||d.contains(a.target)||(f.style.display="none",d.setAttribute("aria-expanded","false"))}))}setupMobileMenu(),a("profileButton","profileDropdown"),a("mProfileButton","mProfileDropdown"),fetchGitHubStars();try{document.addEventListener("click",function(a){const b=document.getElementById("profileButton"),c=document.getElementById("profileDropdown");if(b&&c){if(b.contains(a.target)){a.stopPropagation();const d="block"===c.style.display;return c.style.display=d?"none":"block",void b.setAttribute("aria-expanded",!d+"")}c.contains(a.target)||(c.style.display="none",b.setAttribute("aria-expanded","false"))}const d=document.getElementById("mProfileButton"),e=document.getElementById("mProfileDropdown");if(d&&e){if(d.contains(a.target)){a.stopPropagation();const b="block"===e.style.display;return e.style.display=b?"none":"block",void d.setAttribute("aria-expanded",!b+"")}e.contains(a.target)||(e.style.display="none",d.setAttribute("aria-expanded","false"))}})}catch(a){}});